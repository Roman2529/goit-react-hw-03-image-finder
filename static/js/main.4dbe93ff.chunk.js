(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{2:function(e,a,t){e.exports={App:"styles_App__3DmK1",Searchbar:"styles_Searchbar__1eFFw",SearchForm:"styles_SearchForm__2OLZB",SearchFormButton:"styles_SearchFormButton__2ldPa",SearchFormButtonLabel:"styles_SearchFormButtonLabel__fAB64",SearchFormInput:"styles_SearchFormInput__2gXSD",ImageGallery:"styles_ImageGallery__3CA3z",ImageGalleryItem:"styles_ImageGalleryItem__3CCKf",ImageGalleryItemImage:"styles_ImageGalleryItemImage__zCdm8",Overlay:"styles_Overlay__a-7Sy",Modal:"styles_Modal__2tHac",Button:"styles_Button__2N-Ms",ButtonNew:"styles_ButtonNew__p0sSH"}},21:function(e,a,t){e.exports=t(65)},65:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(14),l=t.n(o),c=(t(26),t(4)),s=t(15),m=t(16),i=t(20),g=t(19),u=t(2),h=t.n(u);var d=function(e){var a=e.onSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:h.a.Searchbar},r.a.createElement("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),new FormData(e.target).forEach((function(e){a(e)}))}},r.a.createElement("button",{type:"submit",className:h.a.SearchFormButton},r.a.createElement("span",{className:h.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,name:"search",placeholder:"Search images and photos"}))))},f=t(1),p=t.n(f);function y(e){var a=e.fetchImages,t=e.toggleModal,n=e.imageObj;console.log(n);return r.a.createElement("li",{className:h.a.ImageGalleryItem},r.a.createElement("img",{onClick:function(){t(),a(n.webformatURL)},src:n.webformatURL,alt:"GalleryImage",className:h.a.ImageGalleryItemImage}))}function I(e){var a=e.fetchImages,t=e.images,n=e.toggleModal;return r.a.createElement("ul",{className:h.a.ImageGallery},t.map((function(e){return r.a.createElement(y,{fetchImages:a,toggleModal:n,imageObj:e,key:e.id})})))}y.ropTypes={imageObj:p.a.object.isRequired,toggleModal:p.a.func.isRequired,fetchImages:p.a.func.isRequired};var _=t(17),S=t.n(_);function b(){return r.a.createElement("div",{className:h.a.ButtonNew},r.a.createElement(S.a,{type:"Rings",color:"#00BFFF",height:100,width:100}))}function E(e){var a=e.getImages;return r.a.createElement("div",{className:h.a.ButtonNew},r.a.createElement("button",{className:h.a.Button,onClick:a},"Load more"))}function v(e){var a=e.hiddenModal,t=e.largeImageURL;return r.a.createElement("div",{className:h.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()}},r.a.createElement("div",{className:h.a.Modal},r.a.createElement("img",{src:t,alt:""})))}var M=t(18),w=t.n(M),F="17949255-e1d9ea9bdf94a67d1d5d88a2d",N=function(e){Object(i.a)(t,e);var a=Object(g.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={images:[],search:"",loading:!1,showModal:!1,originalImageURL:"",page:1,error:null},e.getImages=function(){e.setState({loading:!0}),w.a.get("https://pixabay.com/api/?q=".concat(e.state.search,"&page=").concat(e.state.page,"&key=").concat(F,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(a){e.setState((function(e){return{images:[].concat(Object(c.a)(e.images),Object(c.a)(a.data.hits)),loading:!1,page:e.page+1}}))})).finally((function(){e.setState({loading:!1}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},e.getSearch=function(a){e.setState({search:a,images:[],page:1})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.ShowModal}}))},e.hiddenModal=function(){e.setState({showModal:!1})},e.fetchImages=function(a){e.setState({originalImageURL:a})},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.state.search&&this.getImages(this.state.search)}},{key:"componentDidUpdate",value:function(e,a){var t=a.search,n=this.state.search;t!==n&&this.getImages(n)}},{key:"render",value:function(){var e=this.state,a=e.originalImageURL,t=e.images,n=e.showModal,o=e.loading;return r.a.createElement("div",{className:h.a.App},r.a.createElement(d,{onSubmit:this.getSearch}),r.a.createElement(I,{fetchImages:this.fetchImages,toggleModal:this.toggleModal,images:t}),o&&r.a.createElement(b,null),t.length>0&&!o&&r.a.createElement(E,{getImages:this.getImages}),n&&r.a.createElement(v,{hiddenModal:this.hiddenModal,largeImageURL:a}))}}]),t}(r.a.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.4dbe93ff.chunk.js.map